{"ast":null,"code":"const _url = \"https://igorbakhtin1-dostavochkaapi-2cf2.twc1.net\";\nexport const getWeatherForecast = async () => {\n  return _request(`${_url}/WeatherForecast`);\n};\nconst _request = (url, options) => {\n  return fetch(url, options).then(res => _checkResponse(res)).then(res => _checkSuccess(res)).catch(res => {\n    console.error(res);\n  });\n};\nconst _checkResponse = res => {\n  return res.ok ? res.json() : res.json().then(err => Promise.reject(err));\n};\nconst _checkSuccess = res => {\n  if (res.success === false) {\n    throw new Error(`Ошибка: ${res.message}`);\n  }\n  return res;\n};","map":{"version":3,"names":["_url","getWeatherForecast","_request","url","options","fetch","then","res","_checkResponse","_checkSuccess","catch","console","error","ok","json","err","Promise","reject","success","Error","message"],"sources":["C:/Users/georg/OneDrive/Рабочий стол/Web/Projects/React/new-test-for-connection/src/utils/api.ts"],"sourcesContent":["import { IOptions, ICustomResponse } from '../types/data';\r\n\r\nconst _url = \"https://igorbakhtin1-dostavochkaapi-2cf2.twc1.net\";\r\n\r\nexport const getWeatherForecast = async (): Promise<ICustomResponse> => {\r\n  return _request(`${_url}/WeatherForecast`);\r\n};\r\n\r\nconst _request = (url: string, options?: IOptions) => {\r\n  return fetch(url, options)\r\n    .then((res) => _checkResponse(res))\r\n    .then((res) => _checkSuccess(res))\r\n    .catch((res) => {\r\n      console.error(res);\r\n    });\r\n};\r\n\r\nconst _checkResponse = (res: Response) => {\r\n  return res.ok ? res.json() : res.json().then((err) => Promise.reject(err));\r\n};\r\n\r\nconst _checkSuccess = (res: ICustomResponse) => {\r\n  if (res.success === false) {\r\n    throw new Error(`Ошибка: ${res.message}`);\r\n  }\r\n  return res;\r\n};"],"mappings":"AAEA,MAAMA,IAAI,GAAG,mDAAmD;AAEhE,OAAO,MAAMC,kBAAkB,GAAG,MAAAA,CAAA,KAAsC;EACtE,OAAOC,QAAQ,CAAC,GAAGF,IAAI,kBAAkB,CAAC;AAC5C,CAAC;AAED,MAAME,QAAQ,GAAGA,CAACC,GAAW,EAAEC,OAAkB,KAAK;EACpD,OAAOC,KAAK,CAACF,GAAG,EAAEC,OAAO,CAAC,CACvBE,IAAI,CAAEC,GAAG,IAAKC,cAAc,CAACD,GAAG,CAAC,CAAC,CAClCD,IAAI,CAAEC,GAAG,IAAKE,aAAa,CAACF,GAAG,CAAC,CAAC,CACjCG,KAAK,CAAEH,GAAG,IAAK;IACdI,OAAO,CAACC,KAAK,CAACL,GAAG,CAAC;EACpB,CAAC,CAAC;AACN,CAAC;AAED,MAAMC,cAAc,GAAID,GAAa,IAAK;EACxC,OAAOA,GAAG,CAACM,EAAE,GAAGN,GAAG,CAACO,IAAI,CAAC,CAAC,GAAGP,GAAG,CAACO,IAAI,CAAC,CAAC,CAACR,IAAI,CAAES,GAAG,IAAKC,OAAO,CAACC,MAAM,CAACF,GAAG,CAAC,CAAC;AAC5E,CAAC;AAED,MAAMN,aAAa,GAAIF,GAAoB,IAAK;EAC9C,IAAIA,GAAG,CAACW,OAAO,KAAK,KAAK,EAAE;IACzB,MAAM,IAAIC,KAAK,CAAC,WAAWZ,GAAG,CAACa,OAAO,EAAE,CAAC;EAC3C;EACA,OAAOb,GAAG;AACZ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}