{"ast":null,"code":"import { getWeatherForecast } from '../../utils/api';\nexport const GET_FORECAST_REQUEST = \"GET_FORECAST_REQUEST\";\nexport const GET_FORECAST_SUCCESS = \"GET_FORECAST_SUCCESS\";\nexport const GET_FORECAST_FAILED = \"GET_FORECAST_FAILED\";\nexport const getForecastRequestAction = () => ({\n  type: GET_FORECAST_REQUEST\n});\nexport const getForecastSuccessAction = items => ({\n  type: GET_FORECAST_SUCCESS,\n  items\n});\nexport const getForecastFailedAction = error => ({\n  type: GET_FORECAST_FAILED,\n  error\n});\nexport const getForecasts = () => async dispatch => {\n  dispatch(getForecastRequestAction());\n  try {\n    const res = await getWeatherForecast();\n    if (res && res.data) {\n      dispatch(getForecastSuccessAction(res.data));\n    } else {\n      dispatch(getForecastFailedAction('No data available'));\n    }\n  } catch (error) {\n    dispatch(getForecastFailedAction(error.message));\n  }\n};","map":{"version":3,"names":["getWeatherForecast","GET_FORECAST_REQUEST","GET_FORECAST_SUCCESS","GET_FORECAST_FAILED","getForecastRequestAction","type","getForecastSuccessAction","items","getForecastFailedAction","error","getForecasts","dispatch","res","data","message"],"sources":["C:/Users/georg/OneDrive/Рабочий стол/Web/Projects/React/new-test-for-connection/src/services/actions/forecast.ts"],"sourcesContent":["import { getWeatherForecast } from '../../utils/api';\r\nimport { AppThunk, AppDispatch } from '../types';\r\nimport { IForecast } from '../types/data';\r\n\r\nexport const GET_FORECAST_REQUEST = \"GET_FORECAST_REQUEST\";\r\nexport const GET_FORECAST_SUCCESS = \"GET_FORECAST_SUCCESS\";\r\nexport const GET_FORECAST_FAILED = \"GET_FORECAST_FAILED\";\r\n\r\nexport interface IGetForecastRequestAction {\r\n  readonly type: typeof GET_FORECAST_REQUEST;\r\n}\r\n\r\nexport interface IGetForecastSuccessAction {\r\n  readonly type: typeof GET_FORECAST_SUCCESS;\r\n  readonly items: Array<IForecast>;\r\n}\r\n\r\nexport interface IGetForecastFailedAction {\r\n  readonly type: typeof GET_FORECAST_FAILED;\r\n  readonly error: string;\r\n}\r\n\r\nexport type TForecastActions =\r\n  | IGetForecastRequestAction\r\n  | IGetForecastSuccessAction\r\n  | IGetForecastFailedAction;\r\n\r\nexport const getForecastRequestAction = (): IGetForecastRequestAction => ({\r\n  type: GET_FORECAST_REQUEST,\r\n});\r\n\r\nexport const getForecastSuccessAction = (items: Array<IForecast>): IGetForecastSuccessAction => ({\r\n  type: GET_FORECAST_SUCCESS,\r\n  items,\r\n});\r\n\r\nexport const getForecastFailedAction = (error: string): IGetForecastFailedAction => ({\r\n  type: GET_FORECAST_FAILED,\r\n  error,\r\n});\r\n\r\nexport const getForecasts: AppThunk = () => async (dispatch: AppDispatch) => {\r\n  dispatch(getForecastRequestAction());\r\n  try {\r\n    const res = await getWeatherForecast();\r\n    if (res && res.data) {\r\n      dispatch(getForecastSuccessAction(res.data));\r\n    } else {\r\n      dispatch(getForecastFailedAction('No data available'));\r\n    }\r\n  } catch (error: any) {\r\n    dispatch(getForecastFailedAction(error.message));\r\n  }\r\n};"],"mappings":"AAAA,SAASA,kBAAkB,QAAQ,iBAAiB;AAIpD,OAAO,MAAMC,oBAAoB,GAAG,sBAAsB;AAC1D,OAAO,MAAMC,oBAAoB,GAAG,sBAAsB;AAC1D,OAAO,MAAMC,mBAAmB,GAAG,qBAAqB;AAqBxD,OAAO,MAAMC,wBAAwB,GAAGA,CAAA,MAAkC;EACxEC,IAAI,EAAEJ;AACR,CAAC,CAAC;AAEF,OAAO,MAAMK,wBAAwB,GAAIC,KAAuB,KAAiC;EAC/FF,IAAI,EAAEH,oBAAoB;EAC1BK;AACF,CAAC,CAAC;AAEF,OAAO,MAAMC,uBAAuB,GAAIC,KAAa,KAAgC;EACnFJ,IAAI,EAAEF,mBAAmB;EACzBM;AACF,CAAC,CAAC;AAEF,OAAO,MAAMC,YAAsB,GAAGA,CAAA,KAAM,MAAOC,QAAqB,IAAK;EAC3EA,QAAQ,CAACP,wBAAwB,CAAC,CAAC,CAAC;EACpC,IAAI;IACF,MAAMQ,GAAG,GAAG,MAAMZ,kBAAkB,CAAC,CAAC;IACtC,IAAIY,GAAG,IAAIA,GAAG,CAACC,IAAI,EAAE;MACnBF,QAAQ,CAACL,wBAAwB,CAACM,GAAG,CAACC,IAAI,CAAC,CAAC;IAC9C,CAAC,MAAM;MACLF,QAAQ,CAACH,uBAAuB,CAAC,mBAAmB,CAAC,CAAC;IACxD;EACF,CAAC,CAAC,OAAOC,KAAU,EAAE;IACnBE,QAAQ,CAACH,uBAAuB,CAACC,KAAK,CAACK,OAAO,CAAC,CAAC;EAClD;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}